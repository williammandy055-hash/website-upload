<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scents & Slay Aesthetics Shop Online</title>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
    }

    /* HEADER */
    header {
      background: white;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      flex-wrap: wrap;
    }

    header img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    nav a {
      text-decoration: none;
      color: #333;
      font-weight: bold;
      cursor: pointer;
    }

    /* DROPDOWN */
    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background: rgb(239, 236, 235);
      min-width: 160px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      border-radius: 5px;
      z-index: 200;
    }

    .dropdown-content a {
      display: block;
      padding: 10px 15px;
      text-decoration: none;
      color: #ee5f06;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    /* SEARCH BAR */
    #searchInput {
      padding: 8px 12px;
      width: 80%;
      max-width: 400px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin: 20px auto;
      display: block;
    }

    /* ITEM GRID: RESPONSIVE */
    .items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 20px;
      padding: 0 20px 20px 20px;
    }

    .card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      text-align: center;
    }

    .card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 5px;
    }

    button {
      margin-top: 10px;
      padding: 8px 12px;
      border: none;
      background-color: #ff6600;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    /* CART BUTTON */
    .cart-btn {
      position: fixed;
      right: 20px;
      bottom: 20px;
      background: #ff6600;
      padding: 12px 16px;
      color: white;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 5px 12px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* MODAL */
    .modal-back {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 900;
    }

    .modal {
      background: white;
      width: 90%;
      max-width: 350px;
      border-radius: 10px;
      padding: 15px;
    }

    .cart-item {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }
    .cart-item img { width: 80px; height: 80px; object-fit: cover; border-radius: 6px; }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border-width: 0;
    }

    /* Image Preview Modal */
    .image-modal-back {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 950;
    }

    .image-modal {
      background: white;
      border-radius: 10px;
      padding: 20px;
      max-width: 85vh;
      max-height: 85vh;
      position: relative;
      overflow: hidden;
    }

    .image-modal img {
      max-width: 100%;
      max-height: 75vh;
      object-fit: contain;
      display: block;
    }

    .image-modal .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #ff6600;
      color: white;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-modal .close-btn:hover {
      background: #cc5200;
    }

    .card img {
      cursor: pointer;
    }

    footer {
      background: #333;
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 30px;
    }

    @media (max-width: 768px) {
      .category-box { display: none; }
      #searchInput { max-width: 100%; width: 90%; }
    }
    @media (max-width: 600px) {
      header { padding: 12px 14px; flex-wrap: wrap; }
      header h2 { font-size: 16px; }
      nav { display: none; }
      nav a { font-size: 12px; }
      #searchInput { padding: 10px 12px; width: 100%; }
      button { padding: 10px 12px; min-height: 44px; font-size: 14px; }
      .cart-btn { padding: 12px 16px; min-width: 48px; min-height: 48px; font-size: 14px; }
      .items { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); padding: 0 8px 20px; gap: 12px; }
      .card { padding: 10px; }
      .modal { width: 95vw; max-width: 100%; padding: 12px; }
      .image-modal { max-width: 95vw; max-height: 90vh; padding: 12px; }
      footer { font-size: 12px; padding: 12px 8px; }
    }
    @media (max-width: 480px) {
      .image-modal { padding: 8px; max-height: 85vh; }
      .image-modal img { max-height: 70vh; }
    }

    /* ===== CATEGORY BOX ===== */
    .category-box {
      width: 300px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: fixed;
      left: 20px;
      top: 100px;
      max-height: 70vh;
      overflow-y: auto;
      z-index: 50;
    }

    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: left;
      font-size: 14px;
      cursor: pointer;
    }

    .menu-icon {
      font-size: 20px;
      color: orange;
    }

    /* ===== DROPDOWN ===== */
    .category-dropdown {
      margin-top: 10px;
      border-top: 1px solid #eee;
      
    }
.category-dropdown {
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.category-dropdown.active {
   max-height: 500px;
}

    .category-dropdown.active {
      display: block;
    }

    .category-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .category-list li {
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .category-list li:last-child {
      border-bottom: none;
    }

    .category-list a {
      display: flex;
      align-items: left;
      gap: 12px;
      text-decoration: none;
      color: #333;
      font-size: 16px;
    }

    .category-list a:hover {
      color: orange;
    }

    .category-list i {
      width: 22px;
      font-size: 18px;
    }

    /* =========================
   MOBILE CATEGORY SIDEBAR FIX
========================= */

/* Tablet & Mobile */
@media (max-width:768px) {
  .category-box {
    position: static;
    width: 100%;
    max-width: 100%;
    margin-bottom: 12px;
    display: flex;
    overflow-x: auto;
    gap: 8px;
    padding: 8px 4px;
    background: #fff;
    border-bottom: 1px solid #ddd;
  }

  .category-box a {
    flex: 0 0 auto;
    padding: 8px 14px;
    font-size: 14px;
    border-radius: 20px;
    white-space: nowrap;
    background: #f5f5f5;
  }

  .container {
    max-width: 100%;
    padding: 0 12px;
  }
}

/* Mobile extra improvements */
@media (max-width:600px) {
  .category-box a {
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

  </style>
</head>

<body>

  <header>
    <div style="display:flex; align-items:center; gap:10px;">
      <img src="logo.png" alt="Scents & Slay Aesthetics logo">
      <h2 style="margin:0;">Scents & Slay Aesthetics</h2>
    </div>

    <nav>
      <a href="homepage.html">Home</a>
      <a>Contact</a>
      <a>About</a>
    </nav>
  </header>

  <!-- CATEGORY BOX -->
  <div class="category-box">
    <div class="category-header" onclick="toggleDropdown()">
  <strong>OUR CATEGORIES</strong>
  <i class="fa-solid fa-bars menu-icon"></i>
</div>


    <div class="category-dropdown" id="categoryDropdown">
      <ul class="category-list">
        <li><a href="bags.html"><i class="fa-solid fa-bag-shopping"></i> Bags</a></li>
        <li><a href="perfumes.html"><i class="fa-solid fa-spray-can-sparkles"></i> Perfumes</a></li>
        <li><a href="bodysplash.html"><i class="fa-solid fa-bottle-droplet"></i> Body Splash</a></li>
        <li><a href="watches.html"><i class="fa-solid fa-clock"></i> Watches</a></li>
        <li><a href="bracelets.html"><i class="fa-solid fa-gem"></i> Bracelets</a></li>
        <li><a href="press-on nails.html"><i class="fa-solid fa-hand-sparkles"></i> Press-on Nails</a></li>
        <li><a href="Others.html"><i class="fa-solid fa-ellipsis"></i> Others</a></li>
      </ul>
    </div>
  </div>

  <h1 style="text-align:center;">Welcome to Scents and Slay Aesthetics</h1>

  <!-- SEARCH BAR -->
  <label for="searchInput" class="sr-only">Search products</label>
  <input type="text" id="searchInput" placeholder="Search products..." oninput="filterCards()">

  <!-- PRODUCT GRID -->
  <div class="items" id="productGrid">
    <div class="card" data-name="Maison Francis Kurkdijan Paris" data-price="280" data-img="p18.jpeg">
      <img src="p18.jpeg" alt="Perfumes">
      <h3>Maison Francis Kurkdijan Paris</h3>
      <p>Ghc 280.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="3 in 1 tote bag - white" data-price="190" data-img="b4.jpeg">
      <img src="b4.jpeg" alt="3 in 1 tote bag - white">
      <h3>3 in 1 tote bag - white</h3>
      <p>Ghc 190.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="Little Black Hat" data-price="40" data-img="s2.jpeg">
      <img src="s2.jpeg" alt="Body Splash">
      <h3>Little Black Hat</h3>
      <p>Ghc 40.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="Red Classic Bracelet" data-price="35" data-img="bs1.jpeg">
      <img src="bs1.jpeg" alt="Red Classic Bracelet">
      <h3>Red Classic Bracelet</h3>
      <p>Ghc 35.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="Ash Shoulder Bag" data-price="160" data-img="b16.jpeg">
      <img src="b16.jpeg" alt="Ash Shoulder Bag">
      <h3>Ash Shoulder Bag</h3>
      <p>Ghc 160.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="ZARA MAN" data-price="300" data-img="p15.jpeg">
      <img src="p15.jpeg" alt="ZARA MAN">
      <h3>Zara Man</h3>
      <p>Ghc 300.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="Rolex  Watch" data-price="190" data-img="w6.jpeg">
      <img src="w6.jpeg" alt="Rolex Watch">
      <h3>Rolex Watch</h3>
      <p>Ghc 190.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="NG Nails" data-price="25" data-img="po3.jpeg">
      <img src="po3.jpeg" alt="NG Nails">
      <h3>NG Nails</h3>
      <p>Ghc 25.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="ASAD Zanzibar" data-price="180" data-img="p28.jpeg">
      <img src="p28.jpeg" alt="ASAD Zanzibar">
      <h3>ASAD Zanzibar</h3>
      <p>Ghc 180.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>

    <div class="card" data-name="Club De Nuit" data-price="650" data-img="p5.jpeg">
      <img src="p5.jpeg" alt="Club de Nuit Perfume">
      <h3>Club De Nuit</h3>
      <p>Ghc 650.00</p>
      <button onclick="addToCart(this)">Add to Cart</button>
    </div>
  </div>

  <!-- CART BUTTON -->
  <div class="cart-btn" onclick="openCart()">
    ðŸ›’ Cart (<span id="cartCount">0</span>)
  </div>

  <!-- IMAGE PREVIEW MODAL -->
  <div class="image-modal-back" id="imageModal">
    <div class="image-modal">
      <button class="close-btn" id="closeImageBtn" aria-label="Close image preview">âœ•</button>
      <img id="previewImage" src="" alt="Product image preview">
    </div>
  </div>

  <!-- CART MODAL -->
  <div class="modal-back" id="cartModal">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
        <h3 style="margin:0">Your Cart</h3>
        <button id="closeCart" aria-label="Close cart" style="background:transparent;border:0;font-size:20px;cursor:pointer;color:#666">âœ•</button>
      </div>
      <div id="cartItems"></div>
      <p><strong>Subtotal: <span id="subtotal">Ghc 0.00</span></strong></p>
      <button onclick="goToOrder()">Proceed to Order</button>
      <button onclick="clearCart()" style="background:#d33;margin-left:10px;">Clear</button>
    </div>
  </div>

  <footer>
    <p>&copy; 2026 Scents & Slay Aesthetics. All rights reserved.</p>
  </footer>

<script>
  // CART FUNCTIONS
  function getCart(){ return JSON.parse(localStorage.getItem('bs_cart')||'[]') }
  function saveCart(c){ localStorage.setItem('bs_cart', JSON.stringify(c)); updateCount() }

  function addToCart(btn){
    const card = btn.closest('.card');
    const imgEl = card.querySelector('img');
    const item = {
      name: (card.dataset.name || '').trim(),
      price: parseFloat(card.dataset.price),
      qty: 1,
      img: (card.dataset.img && card.dataset.img.trim()) || (imgEl && imgEl.src) || ''
    };

    let cart = getCart();
    const existing = cart.find(i => i.name === item.name);
    if(existing) existing.qty += 1;
    else cart.push(item);

    saveCart(cart);
    updateCount();
    btn.textContent = 'âœ“ Added';
    setTimeout(() => { btn.textContent = 'Add to Cart'; }, 1200);
  }

  function updateCount(){
    const count = getCart().reduce((s,i)=>s+i.qty,0);
    document.getElementById('cartCount').textContent = count;
  }

  function openCart(){
    renderCart();
    document.getElementById('cartModal').style.display = 'flex';
  }

  document.getElementById('cartModal').addEventListener('click', (e)=>{
    if(e.target.id === 'cartModal') e.target.style.display='none';
  });

  function renderCart(){
    const items = getCart();
    const list = document.getElementById('cartItems');
    list.innerHTML = '';
    let subtotal = 0;

    items.forEach((it,idx)=>{
      if (typeof it.price === 'number' && isFinite(it.price)) subtotal += it.price * it.qty;

      const div = document.createElement('div');
      div.className='cart-item';
      const img = document.createElement('img');
      img.src = it.img;
      img.style.cursor = 'pointer';
      img.style.width = '80px';
      img.style.height = '80px';
      img.style.objectFit = 'cover';
      img.style.borderRadius = '6px';
      img.alt = it.name;
      img.addEventListener('click', function() {
        document.getElementById('previewImage').src = this.src;
        document.getElementById('imageModal').style.display = 'flex';
      });
      const info = document.createElement('div');
      info.style.flex = 1;
      const priceText = (typeof it.price === 'number' && !isNaN(it.price)) ? 'Ghc'+it.price.toFixed(2) : 'Out of stock';
      info.innerHTML = `<strong>${it.name}</strong><br>${priceText}`;
      const btnMinus = document.createElement('button');
      btnMinus.textContent = '-';
      btnMinus.setAttribute('aria-label', 'Decrease ' + it.name + ' quantity');
      btnMinus.onclick = () => changeQty(idx,-1);
      const span = document.createElement('span');
      span.textContent = it.qty;
      const btnPlus = document.createElement('button');
      btnPlus.textContent = '+';
      btnPlus.setAttribute('aria-label', 'Increase ' + it.name + ' quantity');
      btnPlus.onclick = () => changeQty(idx,1);
      const btnRemove = document.createElement('button');
      btnRemove.textContent = 'âœ•';
      btnRemove.style.marginLeft = '8px';
      btnRemove.style.background = 'transparent';
      btnRemove.style.border = '0';
      btnRemove.style.color = '#c33';
      btnRemove.style.cursor = 'pointer';
      btnRemove.onclick = () => removeItem(idx);
      div.appendChild(img);
      div.appendChild(info);
      div.appendChild(btnMinus);
      div.appendChild(span);
      div.appendChild(btnPlus);
      div.appendChild(btnRemove);
      list.appendChild(div);
    });

    document.getElementById('subtotal').textContent = 'Ghc '+subtotal.toFixed(2);
  }

  function changeQty(i,delta){
    let cart = getCart();
    cart[i].qty += delta;
    if(cart[i].qty < 1) cart.splice(i,1);
    saveCart(cart);
    renderCart();
  }

  function clearCart(){
    localStorage.removeItem('bs_cart');
    updateCount();
    renderCart();
    document.getElementById('cartModal').style.display='none';
  }

  function filterCards(){
    const q = document.getElementById('searchInput').value.toLowerCase().trim();
    document.querySelectorAll('#productGrid .card').forEach(card => {
      const name = card.dataset.name.toLowerCase();
      card.style.display = name.includes(q) ? '' : 'none';
    });
  }

  function goToOrder() {
    if(getCart().length === 0){
      alert("Your cart is empty!");
      return;
    }
    window.location.href = "order.html";
  }

  updateCount();

  document.getElementById('closeCart').addEventListener('click', ()=>{
    document.getElementById('cartModal').style.display='none';
  });

  window.addEventListener('keydown', (e)=>{
    if(e.key==='Escape') document.getElementById('cartModal').style.display='none';
  });

  // Image preview modal
  const imageModal = document.getElementById('imageModal');
  const previewImage = document.getElementById('previewImage');
  const closeImageBtn = document.getElementById('closeImageBtn');

  document.querySelectorAll('.card img').forEach(img => {
    img.addEventListener('click', function() {
      previewImage.src = this.src;
      previewImage.alt = this.alt;
      imageModal.style.display = 'flex';
    });
  });

  closeImageBtn.addEventListener('click', () => {
    imageModal.style.display = 'none';
  });

  imageModal.addEventListener('click', (e) => {
    if(e.target.id === 'imageModal') imageModal.style.display = 'none';
  });

  window.addEventListener('keydown', (e) => {
    if(e.key === 'Escape' && imageModal.style.display === 'flex') imageModal.style.display = 'none';
  });

  // TOGGLE DROPDOWN
 function toggleDropdown() {
    const dropdown = document.getElementById("categoryDropdown");
    dropdown.classList.toggle("active");
  }

  // Close category dropdown when clicking outside (mobile + desktop)
  document.addEventListener("click", function (e) {
    const categoryBox = document.querySelector(".category-box");
    const dropdown = document.getElementById("categoryDropdown");

    if (!categoryBox.contains(e.target)) {
      dropdown.classList.remove("active");
    }
  });

  // Mobile-friendly dropdown toggle
  document.querySelectorAll('.dropdown').forEach(dropdown => {
    const trigger = dropdown.querySelector('a');
    if(trigger) {
      trigger.addEventListener('click', (e) => {
        e.preventDefault();
        const content = dropdown.querySelector('.dropdown-content');
        const isOpen = content.style.display === 'block';
        document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
        content.style.display = isOpen ? 'none' : 'block';
      });
    }
  });

  document.addEventListener('click', (e) => {
    if(!e.target.closest('.dropdown')) {
      document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
    }
  });
</script>

</body>
</html>
